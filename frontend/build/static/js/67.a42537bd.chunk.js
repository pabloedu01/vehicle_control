(this["webpackJsonphyper-react"]=this["webpackJsonphyper-react"]||[]).push([[67],{1365:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),c=r(61),s=r(11),u=r(0),i=r(809),o=r(222),p=r(89),l=r(804),d=r(802),f=r(6),h=r(160),b=r(326),v=r.n(b),m=r(1);t.default=function(){var e=Object(d.a)(),t=Object(f.f)(),r=Object(u.useState)("vertical"),n=Object(s.a)(r,2),b=n[0],j=(n[1],Object(u.useState)("400px")),x=Object(s.a)(j,2),g=x[0],O=(x[1],Object(u.useState)("")),w=Object(s.a)(O,2),y=w[0],k=(w[1],Object(u.useState)(!0)),S=Object(s.a)(k,2),_=(S[0],S[1]),C=Object(u.useState)([]),N=Object(s.a)(C,2),I=N[0],L=N[1],P={filter:!0,filterType:"dropdown",responsive:b,tableBodyWidth:"100%",tableBodyHeight:g,tableBodyMaxHeight:y,onRowClick:function(e,t){B(e[0])},onRowsDelete:function(e){return A(e)}},T=function(){var t=Object(c.a)(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.next=3,e.getSchedules();case 3:r=t.sent,_(!1),"\xa1Success!"==r.msg?(n=r.data.map((function(e){return{id:e.id,promised_date:e.promised_date,technical_consultant:"",client:e.client.name,vehicle:e.vehicle.name,plate:e.client.document,chassi:e.vehicle.document,claims_service:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(i.a,{children:"teste"})})}})),L(n)):alert(r.error);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(c.a)(a.a.mark((function t(r){var n,c,s,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.data,c=0;case 2:if(!(c<n.length)){t.next=10;break}return s=n[c].index,u=I[s].id_ServiceScheduler,t.next=7,e.delSchedules(u);case 7:c++,t.next=2;break;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(e){t("/apps/schedule/detail?id=".concat(e,"&type=edit"))};return Object(u.useEffect)((function(){T()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h.a,{breadCrumbItems:[{label:"Service Scheduler",path:"/apps/crm/orders"},{label:"Service Scheduler List",path:"/apps/crm/orders",active:!0}],title:"Service Scheduler List"}),Object(m.jsx)(o.a,{children:Object(m.jsx)(p.a,{xs:12,children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(l.a.Body,{children:[Object(m.jsxs)(o.a,{className:"mb-2",children:[Object(m.jsx)(p.a,{xl:8,children:Object(m.jsx)(o.a,{className:"gy-2 gx-2 align-items-center justify-content-xl-start justify-content-between"})}),Object(m.jsx)(p.a,{xl:4,children:Object(m.jsx)("div",{className:"text-xl-end mt-xl-0 mt-2",children:Object(m.jsxs)(i.a,{variant:"danger",className:"mb-2 me-2",onClick:function(){t("/apps/schedule/detail?id=null&type=new")},children:[Object(m.jsx)("i",{className:"mdi mdi-basket me-1"})," New Service Scheduler"]})})})]}),Object(m.jsx)(o.a,{children:Object(m.jsx)(p.a,{children:Object(m.jsx)(v.a,{data:I,columns:[{label:"cod_agenda",name:"id",options:{filter:!0,sort:!0}},{label:"Data do Agendamento",name:"promised_date",options:{filter:!0,sort:!0}},{label:"Consultor",name:"technical_consultant",options:{filter:!0,sort:!0}},{label:"Cliente",name:"client",options:{filter:!0,sort:!0}},{label:"Ve\xedculo",name:"vehicle",options:{filter:!0,sort:!0}},{label:"Placa",name:"plate",options:{filter:!0,sort:!0}},{label:"Status",name:"claims_service",options:{filter:!1,sort:!1}},{label:"Chassi",name:"chassi",options:{filter:!1,sort:!1}},{label:"A\xe7\xf5es",name:"actions",options:{filter:!1,sort:!1}}],options:P})})})]})})})})]})}},160:function(e,t,r){"use strict";r(0);var n=r(222),a=r(89),c=r(274),s=r(6),u=r(1);t.a=function(e){var t,r,i=Object(s.g)().companyId;return Object(u.jsx)(n.a,{children:Object(u.jsx)(a.a,{children:Object(u.jsxs)("div",{className:"page-title-box",children:[Object(u.jsx)("div",{className:"page-title-right",children:Object(u.jsxs)(c.a,{listProps:{className:"m-0"},children:[Object(u.jsx)(c.a.Item,{href:"/panel/companies",children:"TUNAP"}),Object(u.jsx)(c.a.Item,{hidden:!1===e.insideCompany,href:"/panel/company/".concat((null===(t=e.company)||void 0===t?void 0:t.id)||i,"/dashboard"),children:(null===(r=e.company)||void 0===r?void 0:r.name)||"Empresa"}),e.breadCrumbItems.map((function(t,r){var n;return t.active?Object(u.jsx)(c.a.Item,{active:!0,children:t.label},r):Object(u.jsx)(c.a.Item,{href:!1===e.insideCompany?t.path:"/panel/company/".concat((null===(n=e.company)||void 0===n?void 0:n.id)||i).concat(t.path),children:t.label},r)}))]})}),Object(u.jsx)("h4",{className:"page-title",children:e.title})]})})})}},802:function(e,t,r){"use strict";var n=r(9),a=r.n(n),c=r(61),s=r(52),u=r(36),i=r(32),o=new(r(22).a),p=s.a.API_URL,l=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,s,o,l,d,f,h,b,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=v.length>3&&void 0!==v[3]?v[3]:null,s=v.length>4&&void 0!==v[4]?v[4]:null,e.prev=2,i.a.show(),t=t.toLowerCase(),o="".concat(p).concat(r),l=null,e.t0=t,e.next="get"===e.t0?10:"post"===e.t0||"put"===e.t0||"delete"===e.t0?13:15;break;case 10:return d=new URLSearchParams(n).toString(),o+="?".concat(d),e.abrupt("break",15);case 13:return l=JSON.stringify(n),e.abrupt("break",15);case 15:return f=s?{"Content-Type":"application/pdf"}:{"Content-Type":"application/json"},c&&(f.Authorization="Bearer ".concat(c)),e.next=19,fetch(o,{method:t,headers:f,body:l});case 19:return h=e.sent,e.next=22,h.json();case 22:(b=e.sent).httpCode=h.status,e.t1=h.status,e.next=201===e.t1?27:500===e.t1?29:400===e.t1?31:401===e.t1?33:404===e.t1?35:37;break;case 27:return u.a.show("success","Salvo com sucesso."),e.abrupt("break",38);case 29:return u.a.show("error",b.msg||"Ha ocorreu um erro interno."),e.abrupt("break",38);case 31:return u.a.show("error",b.msg||"Dados inv\xe1lidos."),e.abrupt("break",38);case 33:return u.a.show("error",b.msg||"N\xe3o autorizado."),e.abrupt("break",38);case 35:return u.a.show("error",b.msg||"N\xe3o encontrado."),e.abrupt("break",38);case 37:return e.abrupt("break",38);case 38:return i.a.hide(),e.abrupt("return",b);case 42:return e.prev=42,e.t2=e.catch(2),i.a.hide(),e.abrupt("return",{error:"Erro de Conex\xe3o com API"});case 46:case"end":return e.stop()}}),e,null,[[2,42]])})));return function(t,r,n){return e.apply(this,arguments)}}();t.a=function(){var e,t=(null===(e=o.getLoggedInUser())||void 0===e?void 0:e.token)||null;return{getToken:function(){return o.getLoggedInUser()},validateToken:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/auth/check-token",{},t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/login",t,{});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/logout",{},t);case 2:return r=e.sent,localStorage.removeItem("token"),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),checkMe:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/auth/me",{},t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signup:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/register",t,{});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),activateUser:function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("post","/activate-user",t,{});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSchedules:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/service-schedule","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),delSchedules:function(){var e=Object(c.a)(a.a.mark((function e(r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/service-schedule/".concat(r),{},t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getClients:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/client","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getTechnicalConsultant:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/technical-consultant","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getVehicles:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/vehicle","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getVehicleBrand:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/vehicle-brand","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getVehicleModel:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/vehicle-model","brand_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getChecklistVersion:function(){var e=Object(c.a)(a.a.mark((function e(r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/checklist-version","brand_id=1",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVehicle:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/vehicle","model_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getClaims:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/claim-service","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getServices:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/service","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProducts:function(){var e=Object(c.a)(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("get","/product","company_id=1",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}}}]);
//# sourceMappingURL=67.a42537bd.chunk.js.map